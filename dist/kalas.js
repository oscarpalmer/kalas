!function(a,b,c){"undefined"!=typeof module&&module.exports?module.exports=c():"function"==typeof define&&define.amd?define(c):b[a]=c()}("kalas",this,function(){var a,b,c=this,d=c.document,e=d.documentElement,f=/^(?:click|dblclick|mouse(?:down|up|over|move|out))$/,g=[];return c.Event.prototype.preventDefault||(c.Event.prototype.preventDefault=function(){this.returnValue=!1}),c.Event.prototype.stopPropagation||(c.Event.prototype.stopPropagation=function(){this.cancelBubble=!0}),a=function(){function a(e){g.push(e),b.on(d,"DOMContentLoaded",a.readyCallback),b.on(d,"onreadystatechange",a.readyCallback),b.on(c,"load",a.readyCallback)}return a.isReady=!1,a.readyCallback=function(b){var e,f,h;if(!(a.isReady||"onreadystatechange"===b.type&&"complete"!==d.onreadystatechange))for(a.isReady=!0,h="load"===b.type?c:d,e=0,f=g.length;f>e;e++)g[e].call(h,b)},a}(),b={off:function(a,b,c){if(e.removeEventListener)a.removeEventListener(b,c,!1);else if(e.detachEvent){a.detachEvent("on"+b,a[b+c]);try{delete a[b+c]}catch(d){a[b+c]=void 0}}},on:function(a,b,d){var f;e.addEventListener?a.addEventListener(b,d,!1):e.attachEvent&&(a[b+d]=function(){f=c.event,f.target=f.target||f.srcElement,d.handleEvent?d.handleEvent.call(a,f):d.call(a,f)},a.attachEvent("on"+b,a[b+d]))},ready:function(b){a(b)},trigger:function(a,b){var c,e;d.createEventObject?(c=d.createEventObject(),a.fireEvent("on"+b,c)):(d.createEvent?(e=f.test(b)?"MouseEvents":"HTMLEvents",c=d.createEvent(e),c.initEvent(b,!0,!0)):c=new Event(b),a.dispatchEvent(c))}}});